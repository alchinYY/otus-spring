databaseChangeLog:
  - changeSet:
      id: 2021-12-25--create-comments
      author: alchinYY
      createTable:
        tableName: comments
        columns:
          - column:
              name: id
              type: BIGINT
              autoIncrement: true
              constraints:
                nullable: false
                primaryKey: true
                primaryKeyName: pk_comments
          - column:
              name: date_created
              type: TIMESTAMP WITHOUT TIME ZONE
              constraints:
                updateble: false
                nullable: false
          - column:
              name: book_id
              type: BIGINT
          - column:
              name: body
              type: VARCHAR(500)
              constraints:
                nullable: false
  - changeSet:
      id: 2021-12-25--create-books_comments_fk
      author: alchinYY
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: book_id
            baseTableName: comments
            constraintName: comments_books_fk
            deferrable: false
            initiallyDeferred: false
            referencedColumnNames: id
            referencedTableName: books
            validate: true